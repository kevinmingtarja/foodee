{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Radian\\\\Documents\\\\Code\\\\foodee\\\\frontend\\\\src\\\\screens\\\\Login.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Input } from \"../components/Input\";\nimport { BodyText, Heading } from \"../components/Typography\";\nimport { Button } from \"../components/Button\";\nimport { Color } from \"../components/Color\";\nimport { login } from \"../api/auth\";\nimport { saveToken, saveUsername } from \"../utils/auth\";\n\nvar Login = function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      usernameError = _useState4[0],\n      setUsernameError = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      passwordError = _useState8[0],\n      setPasswordError = _useState8[1];\n\n  var onChangeUsername = function onChangeUsername(text) {\n    setUsername(text);\n    setUsernameError(\"\");\n  };\n\n  var onChangePassword = function onChangePassword(text) {\n    setPassword(text);\n    setPasswordError(\"\");\n  };\n\n  var onBlurUsername = function onBlurUsername() {\n    if (username === \"\") {\n      setUsernameError(\"Please fill in.\");\n    }\n  };\n\n  var onBlurPassword = function onBlurPassword() {\n    if (password === \"\") {\n      setPasswordError(\"Please fill in.\");\n    }\n  };\n\n  var handleLogin = function handleLogin() {\n    var _await$login, token;\n\n    return _regeneratorRuntime.async(function handleLogin$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(login({\n              username: username,\n              password: password\n            }));\n\n          case 2:\n            _await$login = _context.sent;\n            token = _await$login.token;\n            console.log(token);\n            saveToken(token);\n            saveUsername(username);\n            navigation.navigate(\"Landing\");\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.screen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, React.createElement(Heading, {\n    color: \"tartorange\",\n    style: {\n      marginBottom: 30,\n      fontFamily: \"PoppinsMedium\",\n      fontSize: 30\n    },\n    centered: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, \"Foodee\"), React.createElement(Input, {\n    label: \"\",\n    placeholder: \"Username\",\n    style: styles.input,\n    value: username,\n    onChangeText: function onChangeText(text) {\n      return onChangeUsername(text);\n    },\n    onBlur: onBlurUsername,\n    errorMessage: usernameError,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }), React.createElement(Input, {\n    secureTextEntry: true,\n    label: \"\",\n    placeholder: \"Password\",\n    style: styles.input,\n    value: password,\n    onChangeText: function onChangeText(text) {\n      return onChangePassword(text);\n    },\n    onBlur: onBlurPassword,\n    errorMessage: passwordError,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }), React.createElement(Button, {\n    size: \"large\",\n    type: \"filled\",\n    style: {\n      width: \"100%\",\n      marginTop: 24\n    },\n    onPress: handleLogin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, \"Log In\")), React.createElement(View, {\n    style: styles.footer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, React.createElement(BodyText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"Don't have an account?\"), React.createElement(BodyText, {\n    weight: \"semibold\",\n    color: \"cerulean\",\n    onPress: function onPress() {\n      navigation.navigate(\"Register\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, \" Sign Up.\")));\n};\n\nexport default Login;\nvar styles = StyleSheet.create({\n  screen: {\n    paddingTop: 50,\n    flex: 1\n  },\n  container: {\n    paddingHorizontal: 24,\n    paddingTop: 220,\n    flex: 0.875\n  },\n  input: {\n    marginTop: 8\n  },\n  footer: {\n    borderTopWidth: 1,\n    borderColor: Color.tartorange,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 0.125\n  }\n});","map":{"version":3,"sources":["C:/Users/Radian/Documents/Code/foodee/frontend/src/screens/Login.tsx"],"names":["React","useState","Input","BodyText","Heading","Button","Color","login","saveToken","saveUsername","Login","navigation","username","setUsername","usernameError","setUsernameError","password","setPassword","passwordError","setPasswordError","onChangeUsername","text","onChangePassword","onBlurUsername","onBlurPassword","handleLogin","token","console","log","navigate","styles","screen","container","marginBottom","fontFamily","fontSize","input","width","marginTop","footer","StyleSheet","create","paddingTop","flex","paddingHorizontal","borderTopWidth","borderColor","tartorange","flexDirection","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { StyleSheet, Text, View } from \"react-native\";\r\nimport { StackNavigationProp } from \"@react-navigation/stack\";\r\nimport { RootNavigatorParamList } from \"../navigation/RootNavigator\";\r\n\r\nimport { Input } from \"@components/Input\";\r\nimport { BodyText, Heading } from \"@components/Typography\";\r\nimport { Button } from \"@components/Button\";\r\nimport { Color } from \"@components/Color\";\r\nimport { login } from \"@api/auth\";\r\nimport { saveToken, saveUsername } from \"@utils/auth\";\r\n\r\ntype LandingScreenNavigationProp = StackNavigationProp<\r\n    RootNavigatorParamList,\r\n    \"Login\"\r\n>;\r\n\r\ninterface Props {\r\n    navigation: LandingScreenNavigationProp;\r\n}\r\n\r\nconst Login = ({ navigation }: Props): JSX.Element => {\r\n    const [username, setUsername] = useState<string>(\"\");\r\n    const [usernameError, setUsernameError] = useState<string>(\"\");\r\n\r\n    const [password, setPassword] = useState<string>(\"\");\r\n    const [passwordError, setPasswordError] = useState<string>(\"\");\r\n\r\n    const onChangeUsername = (text: string) => {\r\n        setUsername(text);\r\n        setUsernameError(\"\");\r\n    };\r\n\r\n    const onChangePassword = (text: string) => {\r\n        setPassword(text);\r\n        setPasswordError(\"\");\r\n    };\r\n\r\n    const onBlurUsername = () => {\r\n        if (username === \"\") {\r\n            setUsernameError(\"Please fill in.\");\r\n        }\r\n    };\r\n\r\n    const onBlurPassword = () => {\r\n        if (password === \"\") {\r\n            setPasswordError(\"Please fill in.\");\r\n        }\r\n    };\r\n\r\n    const handleLogin = async () => {\r\n        const { token } = await login({\r\n            username: username,\r\n            password: password,\r\n        });\r\n        console.log(token)\r\n        saveToken(token);\r\n        saveUsername(username);\r\n        navigation.navigate(\"Landing\");\r\n    };\r\n\r\n    return (\r\n        <View style={styles.screen}>\r\n            <View style={styles.container}>\r\n                <Heading\r\n                    color=\"tartorange\"\r\n                    style={{\r\n                        marginBottom: 30,\r\n                        fontFamily: \"PoppinsMedium\",\r\n                        fontSize: 30,\r\n                    }}\r\n                    centered\r\n                >\r\n                    {\"Foodee\"}\r\n                </Heading>\r\n                <Input\r\n                    label=\"\"\r\n                    placeholder=\"Username\"\r\n                    style={styles.input}\r\n                    value={username}\r\n                    onChangeText={(text: string) => onChangeUsername(text)}\r\n                    onBlur={onBlurUsername}\r\n                    errorMessage={usernameError}\r\n                />\r\n                <Input\r\n                    secureTextEntry\r\n                    label=\"\"\r\n                    placeholder=\"Password\"\r\n                    style={styles.input}\r\n                    value={password}\r\n                    onChangeText={(text: string) => onChangePassword(text)}\r\n                    onBlur={onBlurPassword}\r\n                    errorMessage={passwordError}\r\n                />\r\n                <Button\r\n                    size=\"large\"\r\n                    type=\"filled\"\r\n                    style={{ width: \"100%\", marginTop: 24 }}\r\n                    onPress={handleLogin}\r\n                >\r\n                    {\"Log In\"}\r\n                </Button>\r\n            </View>\r\n\r\n            <View style={styles.footer}>\r\n                <BodyText>{\"Don't have an account?\"}</BodyText>\r\n                <BodyText\r\n                    weight=\"semibold\"\r\n                    color=\"cerulean\"\r\n                    onPress={() => {\r\n                        navigation.navigate(\"Register\");\r\n                    }}\r\n                >\r\n                    {\" Sign Up.\"}\r\n                </BodyText>\r\n            </View>\r\n        </View>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n\r\nconst styles = StyleSheet.create({\r\n    screen: {\r\n        paddingTop: 50,\r\n        flex: 1,\r\n    },\r\n    container: {\r\n        paddingHorizontal: 24,\r\n        paddingTop: 220,\r\n        flex: 0.875,\r\n    },\r\n    input: {\r\n        marginTop: 8,\r\n    },\r\n    footer: {\r\n        borderTopWidth: 1,\r\n        borderColor: Color.tartorange,\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        flex: 0.125,\r\n    },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}